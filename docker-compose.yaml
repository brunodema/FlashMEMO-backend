version: "3"
services:
  flashmemo-backend:
    build: .
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      - ASPNETCORE_URLS=https://+:443;http://+:80
      - ASPNETCORE_HTTPS_PORT=44392
      - ASPNETCORE_Kestrel__Certificates__Default__Password=mypassword123
      - ASPNETCORE_Kestrel__Certificates__Default__Path=/https/aspnetapp.pfx
    ports:
      - "44326:44326"
    depends_on:
      - "postgres_db"
    restart: always

  postgres_db:
    image: postgres
    environment:
      - "POSTGRES_PASSWORD=Flashmemo@123"
      - "POSTGRES_DB=FlashMEMO"
    expose:
      - 5432
    # volumes:
    #   - "./dbinit.sql:/docker-entrypoint-initdb.d/init.sql"
